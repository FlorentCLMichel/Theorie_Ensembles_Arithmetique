\startsection[title=Écriture en base $b$, reference=sec:base]

Soit $b$ un entier naturel strictement supérieur à $1$. 

\blank[big] 

\noindent\bold{Théorème :} Soit $n$ un entier naturel. 
    Il existe un unique entier naturel $m$ et une unique séquence $(u_{m-1}, u_{m-2}, \dots, u_0)$ de $m$ éléments de $\mathbb{N}$ tels que les trois conditions suivantes sont satisfaites : 
    \startitemize[nowhite]
        \item Si $m > 0$, $u_{m-1} \neq 0$.
        \item Pour tout élément $i$ de $[\![0,n-1]\!]$, $u_i < b$.
        \item $\sum_{i=0}^{m-1} u_i b^{i} = n$.
    \stopitemize

\medskip 

\noindent\bold{Définition :} Pour $n$ non nul, cette séquence est appelée \emph{écriture de $n$ en \words{base} $b$}. 
    L'écriture de $0$ en base $b$ est $(0)$.%
    ~\footnote{Pour $n=0$, l'unique séquence satisfaisant les trois propriétés du théorème est la séquence vide $\emptyset$. Par convention, on considère que l'écriture de $0$ en base $b$ est $(0)$, satisfaisant alors les seconde et troisième hypothèses mais pas la première.}
    On omettra parfois les parenthèses et virgules quand il n'y a pas de confusion possible. 

\medskip

\noindent\bold{Démonstration :} 
On procède par recurrence forte sur $n$. 
Soit $b$ un entier naturel strictement supérieur à $1$. 
Pour $n = 0$, la séquence vide $\emptyset$ est la seule à satisfaire les trois propriétés de l'énoncé. 
En effet, elle les satisfait bien et, si $(u_{m-1}, u_{m-2}, \dots, u_0)$ est une séquence de $m$ entiers naturels pour un entier naturel $m$ non nul avec $u_{m-1} > 0$, alors $\sum_{i=0}^{m-1} u_i b^{i} = u_{m-1} b^{m-1} + \sum_{i=0}^{m-2} u_i b^{i}$, donc $\sum_{i=0}^{m-1} u_i b^{i} \geq u_{m-1} b^{m-1}$. 
Puisque $b$ est un entier naturel non nul, $b^{m-1}$ en est un également.
Puisque $u_{m-1}$ est également non nul, $u_{m-1} b^{m-1} > 0$, donc $\sum_{i=0}^{m-1} u_i b^{i} > 0$.

Soit $n$ un élément de $\mathbb{N}^*$ et supposons qu'à tout entier naturel strictement inférieur à $n$ correspond une unique séquence satisfaisant les trois propriétés de l'énoncé. 
Distinguons deux cas selon que $n$ est ou non un multiple de $b$. 

Supposons d'abord qu'il n'en est pas un. 
Puisque $n-1 < n$, on peut choisir un entier naturel $l$ et $l$ éléments $u_0, u_1, \dots, u_{l-1}$ de $\mathbb{N}$ tel que la séquence $(u_{l-1}, u_{l-2}, \dots, u_0)$ satisfait les trois propriétés de l'énoncé avec $n$ remplacé par $n-1$. 
En outre, si $n-1 > 0$, alors $l > 0$ (sans quoi on aurait $\sum_{i=0}^{l-1} u_i b^{i} = 0$).
Si $n-1 = 0$, on pose $l = 1$ et $u_0 = 0$.
Dans les deux cas, l'entier naturel $u_0$ est le reste de la division euclidienne de $n-1$ par $b$, donc $u_0 < b-1$ (puisque, si $u_0 = b-1$, on aurait $n-1 \equiv b-1 \, [b]$ et donc $n \equiv 0 \, [b]$, donc $n$ serait un multiple de $b$). 
Donc, la séquence $(u_{l-1}, u_{l-2}, \dots, u_1, u_0+1)$ satisfait les trois propriétés de l'énoncé. 
En effet, 
\startitemize[nowhite]
    \item Si $l = 1$, alors la séquence ne contient qu'un seul élément, $u_0 + 1$, qui est strictement supérieur à $0$.
        Sinon, $l-1 \neq 0$, et $u_{l-1} \neq 0$ par définition.
    \item Soit $i$ un élément de $[\![1, l-1]\!]$, on a $u_i < b$ par définition. 
        En outre, puisque $u_0 < b-1$, $u_0+1 < b$.
    \item Puisque $\sum_{i=0}^{l-1} u_i b^i = n-1$, on a : $(u_0 + 1) + \sum_{i=1}^{l-1} u_i b^i = (n-1) + 1 = n$. 
\stopitemize

Montrons qu'elle est unique. 
Supposons avoir deux telles séquences, $(u_{l-1}, u_{l-2}, \dots, u_1, u_0)$ et $(v_{m-1}, v_{m-2}, \dots, v_1, v_0)$, où $l$ et $m$ sont deux entiers naturels non nuls. 
Alors, $l > 0$ et $m > 0$ (sans quoi la somme d'une de ces séquences serait nulle).
En outre, $u_0$ et $v_0$ doivent être égaux au reste de la division euclidienne de $n$ par $b$, et donc distincts de $0$. 
Si $l = m = 0$, les deux séquences sont donc identiques. 
Suposons $l > 0$ et $m > 0$.
Alors, $(u_{l-1}, u_{l-2}, \dots, u_1, u_0-1)$ et $(v_{m-1}, v_{m-2}, \dots, v_1, v_0-1)$ satisfont les trois propriétés de l'énoncé avec $n$ remplacé par $n-1$.
En effet, 
\startitemize[nowhite]
    \item $u_{l-1} \neq 0$ et $v_{m-1} \neq 0$ par définition.
    \item Soit $i$ un élément de $[\![0, l-1]\!]$, on a $u_i < b$ et $v_i < b$ par définition. 
        En outre, puisque $u_0 > 0$ et $ v_0 > 0$, $u_0-1$ et $v_0-1$ sont bien des entiers naturels.
    \item Puisque $\sum_{i=0}^{l-1} u_i b^i = n$ et $\sum_{i=0}^{m-1} v_i b^i = n$, on a : $(u_0 - 1) + \sum_{i=1}^{l-1} u_i b^i = n-1$ et $(v_0 - 1) + \sum_{i=1}^{m-1} v_i b^i = n-1$. 
\stopitemize
Par hypothèse de récurrence, elles doivent être identiques, et donc $l = m$ et $(u_{l-1}, u_{l-2}, \dots, u_1, u_0) = (v_{m-1}, v_{m-2}, \dots, v_m, v_0)$. 

Supposons maintenant que $b$ divise $n$. 
Soit $q$ le quotient de la division enclidienne de $n$ par $b$. 
On a $b q = n$.
Alors, $q < n$~\footnote{En effet, si $q \geq n$, on aurait $b q > n$, donc $n > n$, ce qui est impossible.}, donc, par hypothèse de récurrence, il admet une unique séquence $(u_{l-1}, u_{l-2}, \dots, u_0)$ satisfaisant les trois conditions de l'énoncé avec $n$ remplacé par $q$, où $l$ est un élément de $\mathbb{N}^*$. 
Alors, $(u_{l-1}, u_{l-2}, \dots, u_0, 0)$ satisfait les conditions de l'énoncé. 
En effet, les deux premières sont évidentes et $\sum_{i=0}^{l-1} u_i b^{i+1} = b q = n$. 

Montrons qu'elle est unique. 
Supposons avoir deux écritures de $n$ en base $b$, $(u_{l-1}, u_{l-2}, \dots, u_1, u_0)$ et $(v_{m-1}, v_{m-2}, \dots, v_1, v_0)$, où $l$ et $m$ sont deux entiers naturels non nuls. 
Alors, $u_0$ et $v_0$ doivent être égaux au reste de la division euclidienne de $n$ par $b$, et donc égaux à $0$. 
On a donc: $n = \sum_{i=1}^{l-1} u_i b^{i} = \sum_{j=1}^{m-1} v_j b^{j}$. 
Soit $q = \sum_{i=1}^{l-1} u_i b^{i-1}$. 
On a aussi : $q = \sum_{j=1}^{m-1} v_j b^{j-1}$ (puisque ce nombre donne aussi $n$ après multiplication par $b$).  
Donc, $(u_{l-1}, u_{l-2}, \dots, u_1)$ et $(v_{m-1}, v_{m-2}, \dots, v_1)$ satisfont les trois propriétés de l'énoncé avec $n$ remplacé par $q$. 
Puisque $b > 1$, $q < n$, donc, par hypothèse de recurrence, ces deux séquences sont identiques, donc $l = m$ et $u_i = v_i$ pour tout élément $i$ de $[\![1, l-1]\!]$. 
Puisque $v_0 = u_0 = 0$, les deux séquences correspondant à $n$ sont donc identiques. 

Par récurrence forte, le résultat est donc vrai pour tout $n \in \mathbb{N}$.

\done

\blank[big]

De fonctions Haskell donnant l'écriture d'un entier dans une base quelconque ou convertissant cette écriture en décimal sont données en \in{appendice}{}[app:Haskell_baseb].

\stopsection
